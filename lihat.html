<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lihat Jadwal 💕</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-pink-50 flex items-center justify-center min-h-screen">
  <div class="bg-white p-8 rounded-2xl shadow-lg w-96 text-center">
    <h1 class="text-2xl font-bold text-pink-500 mb-4">Jadwal Kencan 💞</h1>
    <div id="hasil" class="text-gray-700 whitespace-pre-line text-lg"></div>
    <p id="status" class="text-sm text-gray-400 mt-4"></p>
  </div>

  <script>
    async function ambilJadwal() {
      const url = localStorage.getItem("lastBlobURL");
      const hasil = document.getElementById("hasil");
      const status = document.getElementById("status");

      if (!url) {
        hasil.textContent = "Belum ada jadwal tersimpan 🕊️";
        return;
      }

      try {
        const res = await fetch(url);
        const data = await res.json();
        hasil.textContent = `📅 ${data.date}\n🕒 ${data.time}\n🎉 Activity: ${data.activity}`;
        status.textContent = "Dibuat pada: " + new Date(data.createdAt).toLocaleString("id-ID");
      } catch (err) {
        hasil.textContent = "⚠️ Gagal mengambil data.";
      }
    }

    ambilJadwal();
  </script>
</body>
</html>
