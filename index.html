<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>A Very Important Question</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            "primary-pink": "#FF69B4",
            "secondary-pink": "#FFC0CB",
            "romantic-red": "#E91E63",
            "light-bg": "#FFF5EE",
          },
          fontFamily: {
            sans: ["Inter", "sans-serif"],
            romantic: ['"Great Vibes"', "cursive"],
          },
        },
      },
    };
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Great+Vibes&display=swap"
    rel="stylesheet" />
  <style>
    body {
      cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><path fill="%23FF69B4" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') 15 15, auto;
      min-height: 100vh;
    }

    .heart-trail {
      position: absolute;
      pointer-events: none;
      user-select: none;
      color: #e91e63;
      font-size: 20px;
      opacity: 0;
      animation: heartFadeOut 1.5s ease-out forwards;
      z-index: 1000;
    }

    @keyframes heartFadeOut {
      0% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }

      100% {
        transform: translateY(-50px) scale(0.5);
        opacity: 0;
      }
    }

    #noButton {
      transition: all 0.05s ease-out;
      border-radius: 9999px;
    }

    input[type="date"],
    input[type="time"] {
      color: #e91e63;
      font-weight: bold;
    }
  </style>
</head>

<body class="bg-light-bg text-gray-800 font-sans flex items-center justify-center min-h-screen p-4">
  <div id="app"
    class="max-w-xl w-full bg-white shadow-2xl rounded-3xl p-8 md:p-12 text-center transform hover:scale-[1.01] transition duration-300 border-4 border-primary-pink/50">
    <div id="content-container"></div>
  </div>
  <div id="heart-container"></div>

  <script>
    let currentPage = "proposal";
    let selectedActivity = null;
    let finalDateDetails = {};
    const contentContainer = document.getElementById("content-container");
    const heartContainer = document.getElementById("heart-container");

    const pageContent = {
      proposal: {
        title: "A Very Important Question â¤ï¸",
        message: `
          <img src="images/niatbaik.png" alt="My good intention" class="mx-auto max-h-52 object-contain mb-6 rounded-lg shadow-xl border-2 border-primary-pink" />
          <h2 class="text-3xl md:text-4xl font-bold mb-8 text-primary-pink font-romantic">Will you be my girlfriend?</h2>
        `,
        buttons: `
          <div class="relative w-full mx-auto h-40 flex items-center justify-center">
            <button onclick="changePage('yes_schedule')" class="px-10 py-4 text-white font-bold text-lg bg-romantic-red hover:bg-primary-pink transition duration-300 rounded-full shadow-lg transform hover:scale-110 active:scale-95 border-2 border-white focus:outline-none focus:ring-4 focus:ring-romantic-red/50 z-20">
              Yes I do â¤ï¸
            </button>
            <button id="noButton" onclick="changePage('no')" class="absolute px-8 py-3 text-primary-pink font-bold text-base bg-white border-2 border-primary-pink hover:bg-secondary-pink shadow-lg transform active:scale-95 focus:outline-none focus:ring-4 focus:ring-primary-pink/50 z-10 whitespace-nowrap top-1/2 left-1/4 -translate-y-1/2 -translate-x-1/2">
              No, leave me alone ğŸ’”
            </button>
          </div>
        `,
      },

      yes_schedule: {
        title: "ğŸ‰ My Girlfriend Said Yes! ğŸ‰",
        message: `
          <h2 class="text-3xl md:text-4xl font-romantic text-romantic-red animate-pulse">This calls for a celebration!</h2>
          <p class="mt-4 text-lg md:text-xl text-gray-700">Now that you're mine, let's schedule our first date ğŸ¥°</p>
        `,
        buttons: `
          <div id="date-scheduler" class="mt-8 w-full max-w-sm mx-auto p-4 border-4 border-primary-pink rounded-2xl shadow-xl bg-secondary-pink/20">
            <div class="mb-4">
              <label for="dateInput" class="block text-left text-lg font-semibold text-romantic-red">1. When are you free?</label>
              <input type="date" id="dateInput" required class="w-full p-3 border-2 border-primary-pink rounded-lg focus:outline-none focus:ring-2 focus:ring-romantic-red bg-white">
            </div>
            <div class="mb-6">
              <label for="timeInput" class="block text-left text-lg font-semibold text-romantic-red">2. What time?</label>
              <input type="time" id="timeInput" required class="w-full p-3 border-2 border-primary-pink rounded-lg focus:outline-none focus:ring-2 focus:ring-romantic-red bg-white">
            </div>
            <div class="mb-6">
              <label class="block text-left text-lg font-semibold text-romantic-red mb-3">3. Pick our activity:</label>
              <div id="activitySelector" class="flex justify-around space-x-2">
                <button type="button" data-activity="Pizza" class="activity-btn p-3 rounded-xl border-2 border-gray-300 hover:border-primary-pink transition duration-150 transform hover:scale-105 bg-white shadow-md">
                  ğŸ•<br><span class="text-xs">Pizza Night</span>
                </button>
                <button type="button" data-activity="Adventure" class="activity-btn p-3 rounded-xl border-2 border-gray-300 hover:border-primary-pink transition duration-150 transform hover:scale-105 bg-white shadow-md">
                  âœˆï¸<br><span class="text-xs">Adventure</span>
                </button>
                <button type="button" data-activity="Movie" class="activity-btn p-3 rounded-xl border-2 border-gray-300 hover:border-primary-pink transition duration-150 transform hover:scale-105 bg-white shadow-md">
                  ğŸ¬<br><span class="text-xs">Movie Date</span>
                </button>
              </div>
              <div id="validationMessage" class="mt-4 text-sm font-bold text-red-600 hidden">Please fill in all details!</div>
            </div>
            <button onclick="scheduleDate()" id="scheduleBtn" class="w-full mt-4 px-10 py-3 text-white font-bold text-lg bg-romantic-red rounded-full shadow-xl hover:bg-primary-pink transition duration-300 transform hover:scale-105">Confirm Our Date ğŸ’</button>
          </div>
        `,
      },

      no: {
        title: "ğŸ’” Are You Sure About That? ğŸ’”",
        message: `
          <h2 class="text-2xl md:text-3xl font-bold text-primary-pink">Ouch! My heart just broke a little. ğŸ¥º</h2>
          <p class="mt-4 text-lg md:text-xl text-gray-700">Take a moment... are you absolutely sure? My offer still stands!</p>
        `,
        buttons: `
          <button onclick="changePage('proposal')" class="w-full mt-6 px-10 py-4 text-white font-bold text-lg bg-romantic-red hover:bg-primary-pink rounded-full shadow-lg transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 focus:ring-romantic-red/50">
            Give Me Another Chance ğŸ’Œ
          </button>
        `,
      },
    };

    function renderPage() {
      const data = pageContent[currentPage];
      contentContainer.innerHTML = `
        <h1 class="text-4xl md:text-5xl font-bold mb-6 text-romantic-red font-romantic">${data.title}</h1>
        <div class="mb-10">${data.message}</div>
        <div>${data.buttons}</div>
      `;
      if (currentPage === "proposal") {
        setTimeout(() => {
          const noButton = document.getElementById("noButton");
          noButton.addEventListener("mouseover", moveNoButton);
          noButton.addEventListener("touchstart", moveNoButton);
        }, 100);
      } else if (currentPage === "yes_schedule") {
        setupDateListeners();
      }
    }

    function moveNoButton() {
      const noButton = document.getElementById("noButton");
      noButton.style.top = `${Math.random() * 70 + 10}%`;
      noButton.style.left = `${Math.random() * 70 + 10}%`;
      noButton.style.transform = `scale(0.8) rotate(${Math.random() * 6 - 3}deg)`;
    }

    function setupDateListeners() {
      const buttons = document.querySelectorAll(".activity-btn");
      buttons.forEach((btn) => {
        btn.addEventListener("click", () => {
          buttons.forEach(b => b.classList.remove("border-4", "border-romantic-red", "bg-secondary-pink/50"));
          btn.classList.add("border-4", "border-romantic-red", "bg-secondary-pink/50");
          selectedActivity = btn.dataset.activity;
        });
      });
    }

    function scheduleDate() {
      const dateInput = document.getElementById("dateInput");
      const timeInput = document.getElementById("timeInput");
      const validation = document.getElementById("validationMessage");
      if (!dateInput.value || !timeInput.value || !selectedActivity) {
        validation.classList.remove("hidden");
        return;
      }
      alert(`Date confirmed ğŸ’•\n${selectedActivity} on ${dateInput.value} at ${timeInput.value}`);
    }

    function changePage(p) {
      currentPage = p;
      renderPage();
      if (p === "yes_schedule") {
        for (let i = 0; i < 50; i++) {
          setTimeout(() => createFloatingHeart(Math.random() * window.innerWidth, window.innerHeight), i * 50);
        }
      }
    }

    function createFloatingHeart(x, y) {
      const heart = document.createElement("span");
      heart.className = "heart-trail";
      heart.innerHTML = "â¤ï¸";
      heart.style.fontSize = `${Math.random() * 20 + 20}px`;
      heart.style.left = `${x}px`;
      heart.style.top = `${y}px`;
      heart.style.animation = "heartFadeOut 2s ease-out forwards";
      heartContainer.appendChild(heart);
      setTimeout(() => heart.remove(), 2000);
    }

    window.onload = renderPage;
  </script>
</body>

</html>
