<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>A Very Important Question üíå</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            "primary-pink": "#FF69B4",
            "soft-pink": "#FFD1DC",
          },
        },
      },
    };
  </script>
</head>

<body class="flex items-center justify-center min-h-screen bg-gradient-to-b from-soft-pink to-primary-pink">
  <div class="bg-white/80 backdrop-blur-lg p-8 rounded-2xl shadow-2xl text-center max-w-md">
    <h1 class="text-3xl font-bold text-pink-600 mb-4">A Very Important Question üíñ</h1>
    <p class="text-gray-700 mb-6">Do you love me too?</p>

    <div class="flex justify-center gap-4">
      <button id="yesBtn" class="bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded-lg">
        Yes üíò
      </button>
      <button id="closeBtn" class="bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded-lg">
        Close this love note üíå
      </button>
    </div>

    <p id="message" class="text-lg text-pink-700 mt-6 hidden"></p>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const yesBtn = document.getElementById("yesBtn");
      const closeBtn = document.getElementById("closeBtn");
      const message = document.getElementById("message");

      yesBtn.addEventListener("click", () => {
        message.textContent = "Yay! I knew it üòçüíñ";
        message.classList.remove("hidden");
      });

      closeBtn.addEventListener("click", () => {
        alert("I love you ‚ù§Ô∏è");
      });
    });
  </script>
</body>

</html>

    .heart-trail {
      position: absolute;
      pointer-events: none;
      user-select: none;
      color: #e91e63;
      font-size: 20px;
      opacity: 0;
      animation: heartFadeOut 1.5s ease-out forwards;
      z-index: 1000;
    }

    @keyframes heartFadeOut {
      0% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }

      100% {
        transform: translateY(-50px) scale(0.5);
        opacity: 0;
      }
    }

    /* Style for the 'No' button movement transition */
    #noButton {
      transition: all 0.05s ease-out;
      /* Makes the movement feel snappy/quick */
      border-radius: 9999px;
    }

    /* Style for date/time inputs */
    input[type="date"],
    input[type="time"] {
      color: #e91e63;
      font-weight: bold;
    }
  </style>
</head>

<body class="bg-light-bg text-gray-800 font-sans flex items-center justify-center min-h-screen p-4">
  <div id="app"
    class="max-w-xl w-full bg-white shadow-2xl rounded-3xl p-8 md:p-12 text-center transform hover:scale-[1.01] transition duration-300 border-4 border-primary-pink/50">
    <div id="content-container"></div>
  </div>

  <div id="heart-container"></div>

  <script>
    // Global state variables
    let currentPage = "proposal"; // States: 'proposal', 'yes_schedule', 'no', 'schedule_card'
    let selectedActivity = null;
    let finalDateDetails = {};

    const contentContainer = document.getElementById("content-container");
    const heartContainer = document.getElementById("heart-container");

    // --- Page Content Definitions ---

    const pageContent = {
      proposal: {
        title: "A Very Important Question ‚ù§Ô∏è",
        message: `
          <img src="images/niatbaik.png"
               alt="My good intention"
               class="mx-auto max-h-52 object-contain mb-6 rounded-lg shadow-xl border-2 border-primary-pink" />
          <h2 class="text-3xl md:text-4xl font-bold mb-8 text-primary-pink font-romantic">
            Will you be my girlfriend?
          </h2>
        `,
        buttons: `
          <div class="relative w-full mx-auto h-40 flex items-center justify-center">
            <button onclick="changePage('yes_schedule')"
                class="px-10 py-4 text-white font-bold text-lg bg-romantic-red hover:bg-primary-pink transition duration-300 rounded-full shadow-lg transform hover:scale-110 active:scale-95 border-2 border-white focus:outline-none focus:ring-4 focus:ring-romantic-red/50 z-20">
                Yes I do ‚ù§Ô∏è
            </button>
            
            <button id="noButton" onclick="changePage('no')"
                class="absolute px-8 py-3 text-primary-pink font-bold text-base bg-white border-2 border-primary-pink hover:bg-secondary-pink shadow-lg transform active:scale-95 focus:outline-none focus:ring-4 focus:ring-primary-pink/50 z-10 whitespace-nowrap top-1/2 left-1/4 -translate-y-1/2 -translate-x-1/2">
                No, leave me alone üíî
            </button>
          </div>
        `,
      },

      // PAGE 2: Date Scheduling
      yes_schedule: {
        title: "üéâ My Girlfriend Said Yes! üéâ",
        message:
          "<h2 class='text-3xl md:text-4xl font-romantic text-romantic-red animate-pulse'>This calls for a celebration!</h2><p class='mt-4 text-lg md:text-xl text-gray-700'>Now that you're mine, let's schedule our first date. Pick the details below! ü•∞</p>",
        buttons: `
                    <div id="date-scheduler" class="mt-8 w-full max-w-sm mx-auto p-4 border-4 border-primary-pink rounded-2xl shadow-xl bg-secondary-pink/20">
                        <div class="mb-4">
                            <label for="dateInput" class="block text-left text-lg font-semibold text-romantic-red">1. When are you free?</label>
                            <input type="date" id="dateInput" required class="w-full p-3 border-2 border-primary-pink rounded-lg focus:outline-none focus:ring-2 focus:ring-romantic-red bg-white">
                        </div>
                        <div class="mb-6">
                            <label for="timeInput" class="block text-left text-lg font-semibold text-romantic-red">2. What time?</label>
                            <input type="time" id="timeInput" required class="w-full p-3 border-2 border-primary-pink rounded-lg focus:outline-none focus:ring-2 focus:ring-romantic-red bg-white">
                        </div>

                        <div class="mb-6">
                            <label class="block text-left text-lg font-semibold text-romantic-red mb-3">3. Pick our activity theme:</label>
                            <div id="activitySelector" class="flex justify-around space-x-2">
                                <button type="button" data-activity="Pizza" class="activity-btn p-3 rounded-xl border-2 border-gray-300 hover:border-primary-pink transition duration-150 transform hover:scale-105 bg-white shadow-md">
                                    <span class="text-3xl">üçï</span><br><span class="text-xs font-medium text-gray-700">Pizza Night</span>
                                </button>
                                <button type="button" data-activity="Adventure" class="activity-btn p-3 rounded-xl border-2 border-gray-300 hover:border-primary-pink transition duration-150 transform hover:scale-105 bg-white shadow-md">
                                    <span class="text-3xl">‚úàÔ∏è</span><br><span class="text-xs font-medium text-gray-700">Adventure</span>
                                </button>
                                <button type="button" data-activity="Movie" class="activity-btn p-3 rounded-xl border-2 border-gray-300 hover:border-primary-pink transition duration-150 transform hover:scale-105 bg-white shadow-md">
                                    <span class="text-3xl">üé¨</span><br><span class="text-xs font-medium text-gray-700">Movie Date</span>
                                </button>
                            </div>
                            <div id="validationMessage" class="mt-4 text-sm font-bold text-red-600 hidden">Please fill in all details!</div>
                        </div>

                        <button onclick="scheduleDate()" id="scheduleBtn"
                            class="w-full mt-4 px-10 py-3 text-white font-bold text-lg bg-romantic-red rounded-full shadow-xl hover:bg-primary-pink transition duration-300 transform hover:scale-105">
                            Continue (Confirm Our Date!)
                        </button>
                    </div>
                `,
      },

      // PAGE 3: Final Schedule Card
      schedule_card: {
        title: "Our Confirmed Date! ü•≥",
        message: "", // Dynamic content generated in renderPage
        buttons: "",
      },

      // 'No' fallback page (if they manage to click the button)
      no: {
        title: "üíî Are You Sure About That? üíî",
        message:
          "<h2 class='text-2xl md:text-3xl font-bold text-primary-pink'>Ouch! My heart just broke a little. ü•∫</h2><p class='mt-4 text-lg md:text-xl text-gray-700'>Take a moment... are you absolutely, 100% sure about that answer? My offer still stands!</p>",
        buttons: `
                    <button onclick="changePage('proposal')"
                        class="w-full md:w-auto mt-6 px-10 py-4 text-white font-bold text-lg bg-romantic-red hover:bg-primary-pink transition duration-300 rounded-full shadow-lg transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 focus:ring-romantic-red/50">
                        Give Me Another Chance? (Please!)
                    </button>
                `,
      },
    };

    // --- Interactive Button Logic (Proposal Page) ---

    function moveNoButton() {
      const noButton = document.getElementById("noButton");
      if (!noButton) return;

      // Use random values between 10% and 80% for top/left
      const newTop = Math.random() * 70 + 10;
      const newLeft = Math.random() * 70 + 10;

      noButton.style.top = `${newTop}%`;
      noButton.style.left = `${newLeft}%`;

      // Make it scale down and rotate slightly for a 'shy' effect
      noButton.style.transform = `scale(0.8) rotate(${Math.random() * 6 - 3
        }deg)`;
    }

    // --- Date Scheduling Logic (Page 2) ---

    function setupDateListeners() {
      const selector = document.getElementById("activitySelector");
      if (!selector) return;

      const buttons = selector.querySelectorAll(".activity-btn");

      buttons.forEach((button) => {
        button.addEventListener("click", () => {
          // Reset selection
          buttons.forEach((btn) =>
            btn.classList.remove(
              "border-4",
              "border-romantic-red",
              "bg-secondary-pink/50"
            )
          );

          // Set new selection
          button.classList.add(
            "border-4",
            "border-romantic-red",
            "bg-secondary-pink/50"
          );
          selectedActivity = button.getAttribute("data-activity");
        });
      });

      // Set minimum date to today
      const dateInput = document.getElementById("dateInput");
      if (dateInput) {
        const today = new Date().toISOString().split("T")[0];
        dateInput.setAttribute("min", today);
      }
    }

    // Handles validation and transition to Page 3
    function scheduleDate() {
      const dateInput = document.getElementById("dateInput");
      const timeInput = document.getElementById("timeInput");
      const validationMessage = document.getElementById("validationMessage");

      if (!dateInput.value || !timeInput.value || !selectedActivity) {
        validationMessage.textContent =
          "Please select a date, time, and an activity to confirm!";
        validationMessage.classList.remove("hidden");
        return;
      }

      validationMessage.classList.add("hidden");

      // 1. Store the confirmed date details
      finalDateDetails = {
        chosenDate: new Date(dateInput.value).toLocaleDateString("en-US", {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
        }),
        chosenTime: timeInput.value,
        selectedActivity: selectedActivity,
      };

      // 2. Transition to the final schedule card page
      changePage("schedule_card");
    }

    // --- Core Application Logic ---

    function renderPage() {
      const data = pageContent[currentPage];

      const appTitle = document.querySelector("title");
      if (appTitle) {
        appTitle.textContent = data.title.replace(/<[^>]*>/g, "").trim();
      }

      // Custom rendering for the Schedule Card page (Page 3)
      if (currentPage === "schedule_card") {
        const details = finalDateDetails;
        let activityText = "";
        let emoji = "";

        if (details.selectedActivity === "Pizza") {
          activityText = "Pizza Night";
          emoji = "üçï";
        } else if (details.selectedActivity === "Adventure") {
          activityText = "Adventure Date (Maybe a trip to London!)";
          emoji = "‚úàÔ∏è";
        } else if (details.selectedActivity === "Movie") {
          activityText = "Cozy Movie Date";
          emoji = "üé¨";
        }

        contentContainer.innerHTML = `
                    <h1 class="text-4xl md:text-5xl font-bold mb-6 text-romantic-red font-romantic">${data.title}</h1>
                    <h2 class='text-3xl md:text-4xl font-extrabold mb-8 text-primary-pink'>It's Official! We have a date!</h2>
                    
                    <div class="bg-secondary-pink/30 p-8 rounded-2xl shadow-2xl border-4 border-primary-pink/50 max-w-sm mx-auto">
                        <p class="text-7xl mb-4">${emoji}</p>
                        <h3 class="text-2xl font-bold text-romantic-red mb-4">${activityText}</h3>
                        <div class="text-left space-y-4">
                            <p class="text-xl font-extrabold text-gray-800 flex items-center"><span class="text-3xl mr-3 text-primary-pink">üìÖ</span> Date: <span class="ml-2 font-medium text-gray-700">${details.chosenDate}</span></p>
                            <p class="text-xl font-extrabold text-gray-800 flex items-center"><span class="text-3xl mr-3 text-primary-pink">‚è∞</span> Time: <span class="ml-2 font-medium text-gray-700">${details.chosenTime}</span></p>
                        </div>
                    </div>
                    
                    <p class="mt-8 text-xl text-gray-700">I'll send you the final details shortly. I'm so happy to be your boyfriend, beautiful! I love you. ‚ù§Ô∏è</p>
                    <a href="javascript:void(0)" 
                       class="inline-block mt-6 px-8 py-3 text-white font-bold text-lg bg-romantic-red rounded-full shadow-xl hover:bg-primary-pink transition duration-300 transform hover:scale-105">
                        Close this love note üíå
                    </a>
                `;
      } else {
        // Standard rendering for proposal/yes/no pages
        contentContainer.innerHTML = `
                    <h1 class="text-4xl md:text-5xl font-bold mb-6 text-romantic-red font-romantic">${data.title}</h1>
                    <div class="mb-10">${data.message}</div>
                    <div class="flex flex-col justify-center items-center">
                        ${data.buttons}
                    </div>
                `;
      }

      // Attach specific event listeners based on the current page
      if (currentPage === "proposal") {
        setTimeout(() => {
          const noButton = document.getElementById("noButton");
          if (noButton) {
            noButton.addEventListener("mouseover", moveNoButton);
            noButton.addEventListener("touchstart", moveNoButton);
            noButton.addEventListener("touchmove", (e) => {
              e.preventDefault();
              moveNoButton();
            });
          }
        }, 50);
      } else if (currentPage === "yes_schedule") {
        setTimeout(setupDateListeners, 100);
      }
    }

    function changePage(newState) {
      currentPage = newState;
      renderPage();
      if (newState === "yes_schedule") {
        // Celebration hearts on successful proposal
        for (let i = 0; i < 50; i++) {
          setTimeout(
            () =>
              createFloatingHeart(
                Math.random() * window.innerWidth,
                window.innerHeight
              ),
            i * 50
          );
        }
      }
    }

    // --- Cursor Trail Animation Logic ---

    function createTrailHeart(x, y) {
      const heart = document.createElement("span");
      heart.className = "heart-trail";
      heart.innerHTML = "üíñ";

      const size = Math.random() * 0.5 + 0.8;
      const rotation = Math.random() * 30 - 15;

      heart.style.left = `${x}px`;
      heart.style.top = `${y}px`;
      heart.style.transform = `scale(${size}) rotate(${rotation}deg)`;

      heartContainer.appendChild(heart);

      setTimeout(() => {
        heart.remove();
      }, 1500);
    }

    function createFloatingHeart(x, y) {
      const heart = document.createElement("span");
      heart.className = "heart-trail";
      heart.innerHTML = "‚ù§Ô∏è";
      heart.style.fontSize = `${Math.random() * 30 + 30}px`;

      heart.style.left = `${x}px`;
      heart.style.top = `${y}px`;
      heart.style.animation = "heartFloat 5s ease-out forwards";

      heartContainer.appendChild(heart);

      setTimeout(() => {
        heart.remove();
      }, 5000);
    }

    document.addEventListener("mousemove", (e) => {
      if (Math.random() < 0.3) {
        createTrailHeart(e.clientX, e.clientY);
      }
    });

    document.addEventListener("touchmove", (e) => {
      if (e.touches && e.touches.length > 0) {
        const touch = e.touches[0];
        if (Math.random() < 0.3) {
          createTrailHeart(touch.clientX, touch.clientY);
        }
      }
    });

    // --- Initialization ---

    window.onload = function () {
      renderPage();
    };
  </script>
</body>

</html>

